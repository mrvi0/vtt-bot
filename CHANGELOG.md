# Changelog (Журнал изменений)

Все заметные изменения в этом проекте будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект придерживается [Семантического Версионирования](https://semver.org/spec/v2.0.0.html).

## [1.0.0] - 2025-05-06

### Added
*   Базовая структура проекта с Docker, `requirements.txt`, `.env.example`.
*   Реализованы команды `/start`, `/help`, `/info`, `/stats`.
*   Информация для команд `/start`, `/help`, `/info` загружается из внешнего JSON-файла.
*   Добавлена обработка видеосообщений ("кружочков") с извлечением аудио через `ffmpeg`.
*   Логирование основных действий бота.
*   Рефакторинг кода с разделением на модули (`config.py`, `utils.py`, `db_helpers.py`, `media_processor.py`).

### Changed
*   Обновлена логика обработки голосовых сообщений для использования `media_processor.py`.
*   Улучшена структура файла `bot.py`.
*   Статистика теперь учитывает тип сообщения (`voice` или `video_note`).

### Fixed
*   Исправлена потенциальная ошибка при отсутствии файла БД при первом запуске.

## [0.5.0] - 2024-10-15 

### Added
*   Экспериментальная поддержка распознавания очень коротких голосовых сообщений.
*   Улучшено логирование ошибок от API распознавания речи.

### Changed
*   Оптимизирована работа с памятью при обработке аудиофайлов.

## [0.4.0] - 2024-03-20 

### Added
*   Добавлена команда `/stats` для отображения простой статистики использования.
*   Внедрена запись статистики использования в локальную SQLite базу данных.

### Fixed
*   Исправлена ошибка, из-за которой бот мог падать на очень длинных голосовых сообщениях.

## [0.3.0] - 2023-08-05 

### Changed
*   Переход на библиотеку `librosa` для более надежной обработки аудио.
*   Улучшено качество распознавания за счет предварительной обработки аудио (ресемплинг до 16kHz).

## [0.2.0] - 2023-01-10 

### Added
*   Возможность работы бота в групповых чатах (если он администратор).
*   Команды `/help` и `/info` с базовой информацией.

### Fixed
*   Улучшена стабильность при обработке нескольких запросов одновременно (хотя SQLite все еще может быть узким местом).

## [0.1.0] - 2022-07-01

### Added
*   Первоначальный выпуск бота.
*   Базовая функция распознавания голосовых сообщений с использованием `SpeechRecognition` и Google Speech API.
*   Работа только в личных сообщениях с ботом.